window.app.collections.Nodes = Backbone.Collection.extend({
	model: window.app.models.Node,
	intialize: function() {},

	parse: function(response, options) {

		//some dummy data to show a few more nodes (comment out to hit a node)
		//return [{"id":"sgms_master1:f1200233389c","Entity":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"","MasterPort":7467,"ParentAddress":"","ParentPort":7467,"ListenPort":7467,"ShortName":"sgms_master1","StreamMessages":false,"ConfigFile":"./configs/master-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{"sgms_slave001:5bbc6109301b":{"Id":"sgms_slave001:5bbc6109301b","Kind":"slave","Address":"sgms_slave001","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:59.557415891Z"}},"PendingSlaves":null,"Devices":{},"Plugins":{},"InboundMessageBatchCount":210603,"InboundMessageCount":210603,"StartTime":"2016-10-03T16:50:30.278049211Z","LastInboundMessageBatchCount":210598,"LastInboundMessageCount":210597,"LastStatsPeriodInSeconds":0.5229831610000001,"LastStatsTime":"2016-10-03T23:04:59.253135695Z","MessagesPerSecond":9.560537265558343,"MessageBatchesPerSecond":9.560537265558343,"GeoAffinity":{},"CommandLine":{},"RAGGServer":{}},{"id":"sgms_slave001:5bbc6109301b","Entity":{"Id":"sgms_slave001:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave002:5bbc6109301b","Entity":{"Id":"sgms_slave002:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave003:5bbc6109301b","Entity":{"Id":"sgms_slave003:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave004:5bbc6109301b","Entity":{"Id":"sgms_slave004:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave005:5bbc6109301b","Entity":{"Id":"sgms_slave005:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave006:5bbc6109301b","Entity":{"Id":"sgms_slave006:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave007:5bbc6109301b","Entity":{"Id":"sgms_slave007:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave008:5bbc6109301b","Entity":{"Id":"sgms_slave008:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave009:5bbc6109301b","Entity":{"Id":"sgms_slave009:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_master1:f1200233389c","Kind":"master","Address":"sgms_master1","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave019:5bbc6109301b","Entity":{"Id":"sgms_slave019:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_slave009:5bbc6109301b","Kind":"slave","Address":"sgms_slave009","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave029:5bbc6109301b","Entity":{"Id":"sgms_slave029:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_slave009:5bbc6109301b","Kind":"slave","Address":"sgms_slave009","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave039:5bbc6109301b","Entity":{"Id":"sgms_slave039:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_slave009:5bbc6109301b","Kind":"slave","Address":"sgms_slave009","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave049:5bbc6109301b","Entity":{"Id":"sgms_slave049:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_slave009:5bbc6109301b","Kind":"slave","Address":"sgms_slave009","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}},{"id":"sgms_slave059:5bbc6109301b","Entity":{"Id":"sgms_slave059:5bbc6109301b","Kind":"slave","Address":"","Port":7500,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"CommandArgs":{"MasterAddress":"sgms_master1","MasterPort":7467,"ParentAddress":"sgms_master1","ParentPort":7467,"ListenPort":7500,"ShortName":"sgms_slave001","StreamMessages":true,"ConfigFile":"./configs/slave-local.yaml","NumTestDevices":0},"Master":{"Id":"","Kind":"","Address":"","Port":0,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Parent":{"Id":"sgms_slave009:5bbc6109301b","Kind":"slave","Address":"sgms_slave009","Port":7467,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"0001-01-01T00:00:00Z"},"Masters":{},"Slaves":{},"PendingSlaves":null,"Devices":{"sgms_device001:8b347cf5586a":{"Id":"sgms_device001:8b347cf5586a","Kind":"device","Address":"sgms_device001","Port":7601,"FirstSeen":"0001-01-01T00:00:00Z","LastSeen":"2016-10-03T23:04:56.113107885Z"}},"Plugins":{},"InboundMessageBatchCount":206116,"InboundMessageCount":206116,"StartTime":"2016-10-03T16:50:49.817321578Z","LastInboundMessageBatchCount":206112,"LastInboundMessageCount":206111,"LastStatsPeriodInSeconds":0.522798673,"LastStatsTime":"2016-10-03T23:04:59.254672826Z","MessagesPerSecond":9.563911039230966,"MessageBatchesPerSecond":9.563911039230966,"GeoAffinity":{},"CommandLine":null,"RAGGServer":{"Tree":{},"Debug":false}}];


		var root = JSON.parse(response.value);
		var nodes = [];

		var recurFetch = function(node) {
			$.ajax({
				//url: 'https://' + node.Adress + ':' + node.Port + '/v1/health',
				url: 'https://' + window.app.data.endpoints.switchesIPAddr + ':' + node.port + '/v1/health',
				method: 'get',
				data: JSON.stringify({
					value: 'health'
				}),
				async: false,
				success: function(response) {
					var node = JSON.parse(response.value);
					nodes.push(node);
					_.each(node.Slaves, function(slave) {
						recurFetch(slave);
					});
				}
			});
			
		};

		recurFetch(root.Entity);

		return nodes;
	},

	sync: function(method, collection, options) {
		switch (method) {
			case 'read':
				var request = {
					url: 'https://' + window.app.data.endpoints.switchesIPAddr + ':' + window.app.data.endpoints.masterPort + '/v1/health',
					method: 'get',
					data: JSON.stringify({
						value: 'health'
					})
				};

				/*
				var request = {
					url: 'http://jsonplaceholder.typicode.com/posts/1',
					method: 'get'
				};
				*/
				Backbone.Collection.prototype.sync.call(this, method, collection, _.extend(request, options));
				break;
		}
	}
});